Highcharts.chart('hunter_survival_patchwerk', 
{
    chart: {
        type: "bar"
    },
    legend: {
        align: "right",
        backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
        borderColor: "#CCC",
        borderWidth: 1,
        floating: false,
        reversed: true,
        shadow: false,
        verticalAlign: "bottom",
        x: 0,
        y: 0
    },
    plotOptions: {
        bar: {
            dataLabels: {
                color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                enabled: false
            },
            point: {
                events: {
                    click: function (event) {                var chart = this.series.yAxis;                chart.removePlotLine('helperLine');                chart.addPlotLine({                    value: this.stackY,                    color: '#000',                    width: 2,                    id: 'helperLine',                    zIndex: 5,                    label: {                      text: this.series.name + ' ' + this.category,                      align: 'left',                      verticalAlign: 'bottom',                      rotation: 0,                      y: -5                    }                });              }
                }
            },
            stacking: "normal"
        },
        series: {
            borderColor: "#151515",
            events: {
                legendItemClick: function() { return false; }
            }
        }
    },
    series: [
        {
            color: "#ffeb3b",
            data: [
                168214,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ],
            name: "970"
        },
        {
            color: "#00E676",
            data: [
                0,
                5738,
                7734,
                7796,
                8053,
                10335,
                9526,
                10861,
                9822,
                9667,
                7819,
                7991,
                10031,
                7155,
                7929,
                8391,
                6998,
                6813,
                10353,
                7992,
                8964,
                7716,
                7970,
                0,
                4558,
                8327,
                7935,
                10039,
                7754,
                6189,
                9559,
                9313,
                0,
                8361,
                5558,
                0,
                5331,
                4280,
                4201,
                2783,
                9673,
                2920,
                761,
                3471,
                103,
                2518,
                596,
                3117,
                1233,
                1678
            ],
            name: "940"
        },
        {
            color: "#db843d",
            data: [
                0,
                3193,
                6786,
                7359,
                8174,
                6456,
                8434,
                10785,
                6559,
                7131,
                8034,
                8553,
                6675,
                10153,
                8055,
                6993,
                9241,
                9535,
                7714,
                5654,
                9470,
                5056,
                6717,
                6915,
                9110,
                9228,
                9519,
                5891,
                8218,
                7707,
                7216,
                6192,
                0,
                7073,
                5224,
                0,
                4624,
                2050,
                2871,
                4044,
                6147,
                3113,
                4713,
                422,
                2192,
                2135,
                2597,
                2169,
                3306,
                2543
            ],
            name: "930"
        },
        {
            color: "#4198af",
            data: [
                0,
                6955,
                7711,
                8535,
                7747,
                7982,
                6950,
                8412,
                8109,
                7141,
                7670,
                8346,
                8744,
                7487,
                7932,
                6838,
                7075,
                7502,
                9267,
                8051,
                9221,
                7839,
                7537,
                7737,
                3948,
                7276,
                6971,
                9704,
                8005,
                6683,
                7748,
                7079,
                0,
                3090,
                3810,
                0,
                5231,
                1736,
                3555,
                2701,
                6644,
                3301,
                1614,
                4674,
                519,
                3999,
                1861,
                1909,
                3295,
                1779
            ],
            name: "920"
        },
        {
            color: "#71588f",
            data: [
                0,
                4371,
                3719,
                4805,
                7705,
                7160,
                6048,
                8740,
                5008,
                6383,
                6846,
                5345,
                5508,
                4744,
                5953,
                7106,
                5841,
                4781,
                7312,
                7960,
                5561,
                4550,
                5214,
                5797,
                6071,
                4595,
                5954,
                4726,
                6422,
                4490,
                6330,
                7001,
                0,
                7157,
                4401,
                0,
                1330,
                4121,
                4646,
                2251,
                7295,
                5249,
                2009,
                2409,
                1314,
                2944,
                2528,
                2093,
                1859,
                1511
            ],
            name: "910"
        },
        {
            color: "#89a54e",
            data: [
                0,
                4624,
                6242,
                6967,
                4888,
                5679,
                5434,
                85376,
                5475,
                5567,
                6842,
                5288,
                4948,
                5394,
                5667,
                5395,
                6366,
                4463,
                7627,
                3768,
                8164,
                6349,
                5505,
                5720,
                6114,
                6466,
                7171,
                7148,
                5663,
                3839,
                6111,
                5860,
                7841,
                4861,
                4301,
                4259,
                4420,
                1877,
                1854,
                2295,
                4534,
                2540,
                3995,
                3539,
                64,
                1805,
                453,
                2453,
                1806,
                1229
            ],
            name: "900"
        },
        {
            color: "#aa4643",
            data: [
                0,
                3439,
                4894,
                5914,
                94704,
                6825,
                6654,
                0,
                6169,
                6614,
                4319,
                6485,
                5607,
                6989,
                80964,
                6727,
                4255,
                7471,
                70122,
                5306,
                5368,
                4880,
                3304,
                76703,
                4493,
                5669,
                5483,
                6180,
                5171,
                68254,
                4762,
                5369,
                4654,
                3850,
                61805,
                6122,
                3663,
                2899,
                3623,
                2960,
                4669,
                2129,
                1367,
                1446,
                826,
                1872,
                2325,
                2261,
                2133,
                3227
            ],
            name: "890"
        },
        {
            color: "#4572a7",
            data: [
                0,
                111731,
                98046,
                90191,
                0,
                85458,
                85086,
                0,
                82316,
                78318,
                76123,
                75084,
                75558,
                75078,
                0,
                73681,
                74646,
                73294,
                0,
                72506,
                60702,
                68249,
                66938,
                0,
                66295,
                57639,
                55489,
                54691,
                56078,
                0,
                54995,
                52936,
                77274,
                54314,
                0,
                71927,
                53197,
                60170,
                47691,
                51198,
                28702,
                48114,
                49048,
                43693,
                51985,
                41397,
                45561,
                38315,
                37711,
                34531
            ],
            name: "880"
        }
    ],
    subtitle: {
        text: "UTC 2017-10-24 18:22 SimC build: <a href=\"https://github.com/simulationcraft/simc/commit/04bdb16ef310da8dd10607d537f94af64966705e\" target=\"blank\">04bdb16</a>"
    },
    title: {
        text: "Hunter - Survival - Patchwerk"
    },
    tooltip: {
        backgroundColor: "#eee",
        borderColor: "#bbb",
        formatter: function() {        var s = '<b>'+ this.x +'</b>';        var cumulative_amount = 0;        for (var i = this.points.length - 1 ; i >= 0 ; i--) {            cumulative_amount += this.points[i].y;            if (this.points[i].y !== 0){                s += '<br/><span style=\"color: ' + this.points[i].series.color + '; font-weight: bold;\">' + this.points[i].series.name +'</span>: ' + cumulative_amount;            }        }        return s;      },
        headerFormat: "<b>{point.x}</b>",
        shared: true,
        style: {
            color: "black"
        }
    },
    xAxis: {
        categories: [
            "Kil'jaeden's Burning Wish",
            "Unstable Arcanocrystal",
            "Convergence of Fates",
            "Bloodthirsty Instinct",
            "Cradle of Anguish",
            "Eye of Command",
            "Chaos Talisman",
            "Specter of Betrayal",
            "Stat Stick (Haste)",
            "Thrice-Accursed Compass",
            "Stat Stick (Versatility)",
            "PVP Badge of Conquest",
            "Memento of Angerboda",
            "Entwined Elemental Foci",
            "Engine of Eradication",
            "Stat Stick (Crit)",
            "Chrono Shard",
            "Stat Stick (Mastery)",
            "Vial of Ceaseless Toxins",
            "Nightmare Egg Shell",
            "Six-Feather Fan",
            "Horn of Valor",
            "Gift of Radiance",
            "Astral Alchemist Stone",
            "PVP Insignia of Conquest",
            "Nightblooming Frond",
            "Tempered Egg of Serpentrix",
            "Tirathon's Betrayal",
            "Arcanogolem Digit",
            "Infernal Cinders",
            "Bloodstained Handkerchief",
            "Void Stalker's Contract",
            "Darkmoon Deck: Dominion",
            "Splinters of Agronax",
            "Umbral Moonglaives",
            "Infernal Alchemist Stone",
            "The Devilsaur's Bite",
            "Nature's Call",
            "Faulty Countermeasure",
            "Spiked Counterweight",
            "Draught of Souls",
            "Spontaneous Appendages",
            "Toe Knee's Promise",
            "Terrorbound Nexus",
            "Ley Spark",
            "Mark of Dargrul",
            "Ravaged Seed Pod",
            "Tiny Oozeling in a Jar",
            "Giant Ornamental Pearl",
            "Windscar Whetstone"
        ]
    },
    yAxis: {
        labels: {
            enabled: false
        },
        min: 0,
        plotLines: [
            {
                color: "#1E90FF",
                label: {
                    align: "left",
                    rotation: -90,
                    style: {
                        color: "#1E90FF"
                    },
                    text: "mean at 98005",
                    verticalAlign: "bottom",
                    x: 10,
                    y: -25
                },
                value: 98005.64,
                width: 2,
                zIndex: 2
            }
        ],
        stackLabels: {
            enabled: false,
            formatter: function() {            /* I need to figure out how to get the mean value here,            ** to allow the percent diff to mean as label            ** console.log(this); */            return;          },
            style: {
                color: (Highcharts.theme && Highcharts.theme.textColor) || 'white',
                fontWeight: "bold"
            }
        },
        title: {
            text: "\u0394 Damage per second"
        }
    }
});